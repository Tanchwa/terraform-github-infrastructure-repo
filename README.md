<!-- BEGIN_TF_DOCS -->
# Cloud Landingzone Github Repository

- [Purpose](#purpose)
- [Details](#details)
- [Usage](#usage)
- [Gotchas](#gotchas)
- [Inputs](#inputs)
- [Outputs](#outputs)
- [Contributing](#contributing)

## Purpose
Deploys an infrastructure github repository and the cloud infrastructure to support it. This is a 1 to 1 relationship, meaning that each repository will have its own set of cloud resources.
## Details
The repository will be set up to use GitHub actions for deploying terraform infrastructure, and will include a basic workflow file. The upstream source of these can be found in the "infrastructure-deployment-template" repository. In addition, this module will automatically create the necessary secrets and resources for OIDC connect for passwordless authentication to the cloud provider.
The module will create an authentication context specific to the cloud provider specified (usually a service principal/account) and will grant full read, write, and delete permissions to the resources within a specific context, such as VPC in AWS, Project in GCP, or Subscription in Azure.
Finally, the module will also create a blob storage for the backend terraform state files. This will live in a "meta" context in the cloud provider, meaning that it will not be tied to a specific repository, but rather to the organization or account as a whole. The service context created will be able to create and read the files, but will not be able to delete the storage account or container.
## Usage
## Gotchas

## Required Inputs

The following input variables are required:

### <a name="input_location"></a> [location](#input\_location)

Description: Location of the cloud resources to be created; cloud agnostic

Type: `string`

## Optional Inputs

The following input variables are optional (have default values):

### <a name="input_billing_account"></a> [billing\_account](#input\_billing\_account)

Description: Billing account Display Name for the cloud provider (if applicable).

Type: `string`

Default: `""`

### <a name="input_cloud_provider"></a> [cloud\_provider](#input\_cloud\_provider)

Description: The cloud provider to use for the infrastructure.

Type: `string`

Default: `"aws"`

### <a name="input_repository_name"></a> [repository\_name](#input\_repository\_name)

Description: The name of the repository to create.

Type: `string`

Default: `"my-repo"`

### <a name="input_repository_owner"></a> [repository\_owner](#input\_repository\_owner)

Description: The owner of the repository.

Type: `string`

Default: `"my-org"`

### <a name="input_resource_group_name"></a> [resource\_group\_name](#input\_resource\_group\_name)

Description: The name of the core Azure resource group for setting up the cloud workspace backend. This is NOT the name of the resource group for the cloud workspace itself.

Type: `string`

Default: `"core-resource-group"`

### <a name="input_tags"></a> [tags](#input\_tags)

Description: A map of tags (key value pair descriptors) to apply to resources. In GCP, these are known as labels

Type: `map(string)`

Default:

```json
{
  "ManagedBy": "Terraform"
}
```

## Outputs

No outputs.

## Contributing
### Pre-Commit Hooks

Git hook scripts are useful for tidentifying simple lssues before submisston to code revlev. Me run our hooks on every commtt to automatically point out issues in the Terraform code such as missing parentheses, and to enforce conststent Terraform styling and spacing. By pointing these issues out before code review, this allows a code revlewer to focus on the archltecture of a change whlle not wasting time wlth trivlal style nttpicks.

## Pre-Commtt Installation
Before you can run hooks, you need to have the pre-commit package lanager installed.

Using plp:
```
pip install pre-commit
```

Non-administrative installation:

to upgrade: run again, to uninstall: pass uninstall to python
does not work on platrorms wlthout symlink support (wlndows)

```
curl https://pre-commit.com/install-local.py | python
```

Afterward, `pre-commit --version` should show you what version you're using.

## Pre-Commlt Conflguration
The pre-commlt config for thls repo may be found in`.pre-commtt-config.yaml`, the contents of which takes the following form:

Run `pre-commit install` to set up the git hook scripts:

```
$ pre-commit install
pre-commit installed at .git/hooks/pre-commit
```

Now pre-commit will run automatically on git commit
<!-- END_TF_DOCS -->


####this README is auto-generated by [terraform-docs](https://terraform-docs.io)_